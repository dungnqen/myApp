(function(a){a.fn.extend({deleteSmoothProducts:function(){a(document.body).off("click",".sp-lightbox");a(document.body).off("click","#sp-prev");a(document.body).off("click","#sp-next");a(document.body).off("click",".sp-large a");a(document.body).off("click",".sp-noff-touch .sp-zoom");a(document.body).off("click",".sp-tb-active a");a(document.body).off("click",".sp-thumbs")},smoothproducts:function(){a(".sp-loading").hide();a(".sp-wrap").each(function(){if(a(this).find(".sp-large").length>0){return}a(this).addClass("sp-touch");var i=a("a",this).length;var e=a(this).parent().width();if(i>1){var g,d,f=a("a.sp-default",this)[0]?true:false;var k;a(this).append('<div class="sp-large"></div><div class="sp-thumbs sp-tb-active"></div>');a("a",this).each(function(m){var l=a("img",this).attr("src"),o=a(this).attr("href"),n="";if((m===0&&!f)||a(this).hasClass("sp-default")){n=' class="sp-current"';g=o;d=a("img",this)[0].src;k=a(this).data("type")}var p=a(this).data("type");a(this).parents(".sp-wrap").find(".sp-thumbs").append('<a data-type="'+p+'" href="'+o+'" style="background-image:url('+l+')"'+n+"></a>");a(this).remove()});if(k==="photo"){a(".sp-large",this).append('<a href="'+g+'" class="sp-current-big"><img src="'+d+'" alt="" /></a>')}else{if(k==="video"){a(".sp-large",this).append('<a href="javascript:void(0);" class="sp-current-big"><iframe width="'+e+'" height="'+(e*9/16)+'" src="'+g+'" frameborder="0" allowfullscreen></iframe></a>')}}a(".sp-wrap").css("display","inline-block")}else{a(this).append('<div class="sp-large"></div>');var j=a("a",this);if(j.data("type")==="photo"){j.appendTo(a(".sp-large",this)).addClass(".sp-current-big")}else{if(j.data("type")==="video"){var h=j.attr("href");a(".sp-large",this).append('<a href="javascript:void(0);" class="sp-current-big"><iframe width="'+e+'" height="'+(e*9/16)+'" src="'+h+'" frameborder="0" allowfullscreen></iframe></a>');j.remove()}}a(".sp-wrap").css("display","inline-block")}});a(document.body).on("click",".sp-thumbs",function(d){d.preventDefault()});a(document.body).on("mouseover",function(d){a(".sp-wrap").removeClass("sp-touch").addClass("sp-non-touch");d.preventDefault()});a(document.body).on("touchstart",function(){a(".sp-wrap").removeClass("sp-non-touch").addClass("sp-touch")});a(document.body).on("click",".sp-tb-active a",function(f){f.preventDefault();a(this).parent().find(".sp-current").removeClass();a(this).addClass("sp-current");a(this).parents(".sp-wrap").find(".sp-thumbs").removeClass("sp-tb-active");a(this).parents(".sp-wrap").find(".sp-zoom").remove();var g=a(this).parents(".sp-wrap").find(".sp-large").height(),e=a(this).parents(".sp-wrap").find(".sp-large").width();a(this).parents(".sp-wrap").find(".sp-large").css({overflow:"hidden",height:g+"px",width:e+"px"});a(this).addClass("sp-current").parents(".sp-wrap").find(".sp-large a").remove();var d=a(this).parent().find(".sp-current").attr("href"),h=b(a(this).parent().find(".sp-current").css("backgroundImage"));if(a(this).data("type")==="photo"){a(this).parents(".sp-wrap").find(".sp-large").html('<a href="'+d+'" class="sp-current-big"><img src="'+h+'"/></a>')}else{if(a(this).data("type")==="video"){a(this).parents(".sp-wrap").find(".sp-large").html('<a href="javascript:void(0);" class="sp-current-big"><iframe width="'+e+'" height="'+(e*9/16)+'" src="'+d+'" frameborder="0" allowfullscreen></iframe></a>')}}a(this).parents(".sp-wrap").find(".sp-large").hide().fadeIn(250,function(){var i=a(this).parents(".sp-wrap").find(".sp-large img").height();a(this).parents(".sp-wrap").find(".sp-large").animate({height:i},"fast",function(){a(".sp-large").css({height:"auto",width:"auto"})});a(this).parents(".sp-wrap").find(".sp-thumbs").addClass("sp-tb-active")})});a(document.body).on("mouseenter",".sp-non-touch .sp-large",function(d){var e=a("a",this).attr("href");if(!e.includes("javascript:void")){a(this).append('<div class="sp-zoom"><img src="'+e+'"/></div>');a(this).find(".sp-zoom").fadeIn(250)}d.preventDefault()});a(document.body).on("mouseleave",".sp-non-touch .sp-large",function(d){a(this).find(".sp-zoom").fadeOut(250,function(){a(this).remove()});d.preventDefault()});a(document.body).on("click",".sp-non-touch .sp-zoom",function(f){var g=a(this).html(),e=a(this).parents(".sp-wrap").find(".sp-thumbs a").length,d=(a(this).parents(".sp-wrap").find(".sp-thumbs .sp-current").index())+1;a(this).parents(".sp-wrap").addClass("sp-selected");a("body").append("<div class='sp-lightbox' data-currenteq='"+d+"'><div>"+g+"</div></div>");if(e>1){a(".sp-lightbox").append("<a href='#' id='sp-prev'></a><a href='#' id='sp-next'></a>");if(d==1){a("#sp-prev").css("opacity",".1")}else{if(d==e){a("#sp-next").css("opacity",".1")}}}a(".sp-lightbox").fadeIn();f.preventDefault()});a(document.body).on("click",".sp-large a",function(f){var g=a(this).attr("href"),e=a(this).parents(".sp-wrap").find(".sp-thumbs a").length,d=(a(this).parents(".sp-wrap").find(".sp-thumbs .sp-current").index())+1;a(this).parents(".sp-wrap").addClass("sp-selected");a("body").append('<div class="sp-lightbox" data-currenteq="'+d+'"><img src="'+g+'"/></div>');if(e>1){a(".sp-lightbox").append("<a href='#' id='sp-prev'></a><a href='#' id='sp-next'></a>");if(d==1){a("#sp-prev").css("opacity",".1")}else{if(d==e){a("#sp-next").css("opacity",".1")}}}a(".sp-lightbox").fadeIn();f.preventDefault()});a(document.body).on("click","#sp-next",function(i){i.stopPropagation();var d=a(".sp-lightbox").data("currenteq"),k=a(".sp-selected .sp-thumbs a").length;if(d>=k){}else{var h=d+1,j=a(".sp-selected .sp-thumbs").find("a:eq("+d+")").attr("href"),g=a(".sp-selected .sp-thumbs").find("a:eq("+d+")").data("type"),f=b(a(".sp-selected .sp-thumbs").find("a:eq("+d+")").css("backgroundImage"));if(d==(k-1)){a("#sp-next").css("opacity",".1")}a("#sp-prev").css("opacity","1");a(".sp-selected .sp-current").removeClass();a(".sp-selected .sp-thumbs a:eq("+d+")").addClass("sp-current");if(g==="photo"){a(".sp-selected .sp-large").empty().append("<a href="+j+'><img src="'+f+'"/></a>')}else{if(g==="video"){var e=a(this).closest(".sp-wrap").parent().width();a(".sp-selected .sp-large").empty().append('<a href="javascript:void(0)"><iframe width="'+e+'" height="'+(e*9/16)+'" src="'+j+'" frameborder="0" allowfullscreen></iframe></a>')}}a(".sp-lightbox div").fadeOut(250,function(){a(this).remove();if(g==="photo"){a(".sp-lightbox").data("currenteq",h).append('<div><img src="'+j+'"/></div>')}else{if(g==="video"){a(".sp-lightbox").data("currenteq",h).append('<div><iframe width="'+a(".sp-lightbox").width()+'" height="'+a(".sp-lightbox").height()+'" src="'+j+'" frameborder="0" allowfullscreen></iframe></div>')}}a(".sp-lightbox div").hide().fadeIn(250)})}i.preventDefault()});a(document.body).on("click","#sp-prev",function(i){i.stopPropagation();var d=a(".sp-lightbox").data("currenteq"),d=d-1;if(d<=0){}else{if(d==1){a("#sp-prev").css("opacity",".1")}var h=d-1,j=a(".sp-selected .sp-thumbs").find("a:eq("+h+")").attr("href"),g=a(".sp-selected .sp-thumbs").find("a:eq("+h+")").data("type"),f=b(a(".sp-selected .sp-thumbs").find("a:eq("+h+")").css("backgroundImage"));a("#sp-next").css("opacity","1");a(".sp-selected .sp-current").removeClass();a(".sp-selected .sp-thumbs a:eq("+h+")").addClass("sp-current");if(g==="photo"){a(".sp-selected .sp-large").empty().append("<a href="+j+'><img src="'+f+'"/></a>')}else{if(g==="video"){var e=a(this).closest(".sp-wrap").parent().width();a(".sp-selected .sp-large").empty().append('<a href="javascript:void(0)"><iframe width="'+e+'" height="'+(e*9/16)+'" src="'+j+'" frameborder="0" allowfullscreen></iframe></a>')}}a(".sp-lightbox div").fadeOut(250,function(){a(this).remove();if(g==="photo"){a(".sp-lightbox").data("currenteq",d).append('<div><img src="'+j+'"/></div>')}else{if(g==="video"){a(".sp-lightbox").data("currenteq",d).append('<div><iframe width="'+a(".sp-lightbox").width()+'" height="'+a(".sp-lightbox").height()+'" src="'+j+'" frameborder="0" allowfullscreen></iframe></div>')}}a(".sp-lightbox div").hide().fadeIn(250)})}i.preventDefault()});a(document.body).on("click",".sp-lightbox",function(){c()});a(document).keydown(function(d){if(d.keyCode==27){c();return false}});function c(){a(".sp-selected").removeClass("sp-selected");a(".sp-lightbox").fadeOut(function(){a(this).remove()})}a(".sp-large").mousemove(function(l){var j=a(this).width(),g=a(this).height(),n=a(this).offset(),k=a(this).find(".sp-zoom").width(),h=a(this).find(".sp-zoom").height(),i=(l.pageX-n.left),m=(l.pageY-n.top),f=Math.floor((i*(j-k)/j)),d=Math.floor((m*(g-h)/g));a(this).find(".sp-zoom").css({left:f,top:d})});function b(d){return d.match(/url\([\"\']{0,1}(.+)[\"\']{0,1}\)+/i)[1]}}})})(jQuery);